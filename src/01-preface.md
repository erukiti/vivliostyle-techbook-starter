---
class: preface
---

# まえがき

この本はできる限り労力を使わずにMarkdownで技術同人誌を作るためのノウハウをまとめた本です。Vivliostyleというソフトを使っています。

本書のリポジトリはテンプレートリポジトリとして公開しているため、これを元に新しい本のリポジトリを作ることで、この本と同じ装丁の本を作る事ができます。

## 対象読者

対象読者は、技術同人誌を**簡単に**ハイクォリティで作りたい人です。もっと言えば、原稿を書くことのみに集中したい人、「寄り道をしたくないけど、ある一定以上のクォリティの装丁の本を作りたい」というとてもわがままな人向けの本です。

ただし、本書で扱うVivliostyleはJavaScript技術で作られており、技術者が使うことを前提としたソフト・エコシステムです。そのため、ある程度の技術的な知識は避けられません。特にターミナルの使用は必須となります。

本書では、技術者が使うことを前提に最適化されたワークフローを想定しています。原稿をすべてgit/GitHubで管理し、VSCodeなどを使って執筆することを前提としています。多種多様な環境があり得ますが、最もメジャーな方法論でシンプルさを重視しています。

そのため、以下の前提知識が必要となります。

* ターミナルの基本的な操作
* JavaScriptの実行環境の準備
* GitHubやgitの基本的な使用方法
* VSCodeなどのテキストエディタでのMarkdown編集

## この本を書いたモチベーション

この本は、筆者がVivliostyleを使って、Re:VIEW<span class="footnote">https://reviewml.org/ja/</span>と同等以上の執筆体験を実現するために書いています。

より明確に述べると、筆者が寄稿している親方Projectの合同誌をRe:VIEWからVivliostyleに移行できるかの検証をしています<span class="footnote">親方Projectで記事を寄稿する人のうち、元からRe:VIEWを使い慣れた人を除けば、大半がMarkdownで原稿を書いて、編集者がそれを編集しなおすことがあります。それならいっそ最初からMarkdown前提のCSS組版に移行したいという考えです。</span>。

Re:VIEWは技術同人誌を書く上で、圧倒的なクォリティとシェアを誇ります。VivliostyleにとってRe:VIEWは強力なライバルといえますが、VivilostyleでRe:VIEWと同等の本を作れることを実証したいのです。

そのため、本書では次の2点を目指しています。

* Markdownで楽に原稿を書けること
* Re:VIEWで本を作ったときと同じクォリティ・同じデザインをできる限り再現すること

具体的には以下の要件を実現しています。

* GitHub ActionsでPDFが自動生成されること
* ローカルでも同じようにPDFを作成できること
* Techboosterさんが提供するRe:VIEWの技術同人誌テンプレート<span class="footnote">https://github.com/TechBooster/ReVIEW-Template</span>に匹敵するクォリティの装丁にする
* できる限り特殊な記法を導入しないこと
* テンプレートリポジトリを元に読者自身のリポジトリを作ることで、この本と同じ装丁を実現できること

本書は2部構成になっています。第1部はとにかく簡単に本を作るための説明のみに絞りました。第2部はこの本の執筆およびテーマ作成のためにVivliostyleを調査した知見を書いています。そのため、本を書きたいだけの方は第1部だけを読めば十分です。

## 既存組版のつらみ

技術同人誌を執筆している皆さんは組版をどうしていますか？前述のとおり、多くの方はRe:VIEWを使っているのではないでしょうか。Re:VIEWはとても偉大なソフトウェアです。Re:VIEWによって技術同人誌ブームが発生し、世の中の様々な知見が同人誌として出回ることになりました。

ところがRe:VIEWには課題があります。

* Re:VIEW記法という独自記法を使っているため、ChatGPT/Claudeのような生成AIが全く学習しておらず、サポートを受けることができません<span class="footnote">頑張れば対応するためのプロンプトは作れますが、それはそれで大変です。また、そのプロンプトの分、生成AIの持つ知性を消費してしまいます。</span>
* Re:VIEWの知識だけではどうしようもない局面もあり、LaTeX固有のノウハウが必要になることがあります
* LaTeXの出力するエラーメッセージは人類には難しすぎます
* LaTeXやRe:VIEWは継続的にアップデートされているため、それらに追従する必要があります。特にLaTeX部分をいじったりして、秘伝のタレ状態になっているとアップデートが困難になります
* LaTeXはお世辞にも、メンテナンス性がいいとは言えません

Re:VIEWおよびLaTeXは、日本のデジタル組版技術の知見が散々集まったものであり、クォリティがずば抜けていますが、LaTeXの持つ難解さと、Re:VIEW記法の独自性が合わさってハードルが高くなっています。

では、他の組版技術はどうでしょうか？残念ながらほぼ全滅です。日本語の組版はかなり特殊なため、海外系の組版技術では日本語の本を制作するには不適切すぎて、スタート地点にすら立てない状況です。

今回選んだVivliostyleは、その中でほぼ唯一の使い物になる選択肢であり、CSS組版と呼ばれる手法を用いるソフトウェアです。Re:VIEW同様に、実際に出版に使える品質でありつつ、LaTeXを格闘せず、HTML+CSSの知識があれば自由自在に装飾できるという利点があります。

もちろんVivliostyleにも課題はあります<span class="footnote">今回はそこまでは出来ませんでしたが、Vivliostyleを丸裸にするまで調べつくして、本に書き起こしたいと考えています。</span>。テーマのカスタマイズをしようとすると、HTML+CSSの知識だけではなく、テーマファイルの構造、VivliostyleがMarkdownをどのようなHTMLに変換するのか、それらはリバースエンジニアリングのごとく手探りで調べていくしかありません。簡単なカスタマイズはCSS変数と呼ばれる仕組みだけで可能ですが、それで出来ることはごく限られています。

## リポジトリについて

この本のリポジトリは https://github.com/erukiti/vivliostyle-techbook-starter です。実際のソースコードを公開していますので、これを参考にして、皆さんも本を書いてみてください。

本書は著者であるerukitiと、親方Project有志によって作成されています。

この本自体が公開され、テンプレートリポジトリとなっているため、この本をベースに読者の皆さんも本を執筆できるようになっています<span class="footnote">将来的にはこの本のリポジトリと、テンプレート用のリポジトリは分離するかもしれません</span>。

原稿ファイルが格納されている `src/*` はオープンソースではありませんが、それ以外はMIT Licenseの元使用していただいてかまいません。設定ファイルには筆者の名前や、この本のタイトルなどが書かれているためご自身の物に書き換えることは忘れないでください。

## 免責事項

* 本書の内容は、情報提供のみを目的としております。著者一同、正確性には留意しておりますが、正確性を保証するものではありません。この本の記載内容に基づく一切の結果について、著者、編集者とも一切の責任を負いません。
* 個別の事象についてのアドバイス等はお受けできません。あくまで著者の体験を記述しているものであり、一般に適合しない事例もあります。
* 会社名、商品名については、一般に各社の登録商標です。TM表記等については記載しておりません。また、特定の会社、製品、案件について、不当に貶める意図はありません。
* 本書の一部あるいは全部について、無断での複写・複製はお断りします

## 謝意

TeX・LaTeXやRe:VIEW、Vivliostyleなど、偉大なるソフトウェアを世に送り出した作者や、貢献者、利用者の皆様に最大限の感謝を申し上げます。皆様の血と汗と涙の結晶がなければ、筆者は技術同人誌を世に送り出すことはできませんでした。

**本当にありがとうございます**。

筆者たちの試みによって、さらに技術同人誌を書くハードルが下がることを願って本書を書いています。

## バージョンについて

本書で想定しているバージョンは次の通りです。

|ソフトウェア|バージョン|
|----------|---------|
|Node.js|v22.12.0|
|Vivliostyle|8.17.1|
